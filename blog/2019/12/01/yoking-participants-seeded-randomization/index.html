<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Yoking participants (seeded randomization) | Minno Suite</title><meta property="og:title" content="Yoking participants (seeded randomization)" />
<meta property="og:description" content="Most of the time we want randomization to be fully random. In some cases it is usefull to yoke pairs of participants together so that they each recieve the same randomization. MinnoJS does not (yet) support this out of the box, but it is fairly easy to implement using a pseudorandom number generator (PRNG). The PRNG allows us to create a series of random numbers depending on an initial seed. This means that if we can pass a seed to the player (via query string), we can generate the same randomization for a pair of participants." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/2019/12/01/yoking-participants-seeded-randomization/" />
<meta property="article:published_time" content="2019-12-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-04-08T22:28:35+03:00" /><meta property="og:site_name" content="Minno Suite" />
<meta itemprop="name" content="Yoking participants (seeded randomization)">
<meta itemprop="description" content="Most of the time we want randomization to be fully random. In some cases it is usefull to yoke pairs of participants together so that they each recieve the same randomization. MinnoJS does not (yet) support this out of the box, but it is fairly easy to implement using a pseudorandom number generator (PRNG). The PRNG allows us to create a series of random numbers depending on an initial seed. This means that if we can pass a seed to the player (via query string), we can generate the same randomization for a pair of participants.">
<meta itemprop="datePublished" content="2019-12-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-04-08T22:28:35+03:00" />
<meta itemprop="wordCount" content="582">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Yoking participants (seeded randomization)"/>
<meta name="twitter:description" content="Most of the time we want randomization to be fully random. In some cases it is usefull to yoke pairs of participants together so that they each recieve the same randomization. MinnoJS does not (yet) support this out of the box, but it is fairly easy to implement using a pseudorandom number generator (PRNG). The PRNG allows us to create a series of random numbers depending on an initial seed. This means that if we can pass a seed to the player (via query string), we can generate the same randomization for a pair of participants."/>







<link rel="preload" href="/scss/main.min.0522e1e02ced4def8074fed4d9859fd2e8f02c4debc9e110587e745715b19574.css" as="style">
<link href="/scss/main.min.0522e1e02ced4def8074fed4d9859fd2e8f02c4debc9e110587e745715b19574.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="/css/tabbed-pane.css"/>


  </head>
  <body class="td-page td-blog">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Minno Suite</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/docs/" ><span>Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/blog/" ><span class="active">Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/https://groups.google.com/g/minnojs/" target="_blank" ><span>Forum</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




  


<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    
    
    
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-blog-li">
    <a href="/blog/" title="MinnoJS Blog" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id="m-blog"><span class="">Blog</span></a>
    
      
      <ul class="pr-md-3 ul-1">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-blogtutorials-li">
    <a href="/blog/tutorials/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-blogtutorials"><span class="">Tutorials</span></a>
    
      
      <ul class="pr-md-3 ul-2">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20210408breaking-out-of-the-canvas-in-minno-time-li">
    <a href="/blog/2021/04/08/breaking-out-of-the-canvas-in-minno-time/" title="Breaking out of the canvas in minno time" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20210408breaking-out-of-the-canvas-in-minno-time"><span class="">Large stimuli</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20210317using-minnojs-with-pavlovia-li">
    <a href="/blog/2021/03/17/using-minnojs-with-pavlovia/" title="Using MinnoJS with Pavlovia" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20210317using-minnojs-with-pavlovia"><span class="">MinnoJS Pavlovia</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200807running-the-evaluative-priming-task-on-qulatrics-li">
    <a href="/blog/2020/08/07/running-the-evaluative-priming-task-on-qulatrics/" title="Running the Evaluative Priming Task on Qulatrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200807running-the-evaluative-priming-task-on-qulatrics"><span class="">Qualtrics priming</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200727running-the-amp-on-qulatrics-li">
    <a href="/blog/2020/07/27/running-the-amp-on-qulatrics/" title="Running the AMP on Qulatrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200727running-the-amp-on-qulatrics"><span class="">Qualtrics AMP</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200710running-the-st-iat-on-qualtrics-li">
    <a href="/blog/2020/07/10/running-the-st-iat-on-qualtrics/" title="Running the ST-IAT on Qualtrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200710running-the-st-iat-on-qualtrics"><span class="">Qualtrics ST-IAT</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200709running-a-brief-iat-on-qualtrics-li">
    <a href="/blog/2020/07/09/running-a-brief-iat-on-qualtrics/" title="Running a Brief-IAT on Qualtrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200709running-a-brief-iat-on-qualtrics"><span class="">Qualtrics Brief-IAT</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200312simple-csv-server-li">
    <a href="/blog/2020/03/12/simple-csv-server/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200312simple-csv-server"><span class="">Simple CSV server</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200305running-project-implicits-iat-from-qualtrics-li">
    <a href="/blog/2020/03/05/running-project-implicits-iat-from-qualtrics/" title="Running Project Implicit’s IAT from Qualtrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200305running-project-implicits-iat-from-qualtrics"><span class="">Qualtrics IAT</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200201develop-localy-with-minnojs-li">
    <a href="/blog/2020/02/01/develop-localy-with-minnojs/" title="Develop localy with MinnoJS" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200201develop-localy-with-minnojs"><span class="">Local development</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20200101using-minno-with-qualtrics-li">
    <a href="/blog/2020/01/01/using-minno-with-qualtrics/" title="Using Minno with Qualtrics" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20200101using-minno-with-qualtrics"><span class="">Qualtrics MinnoJS</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20191217creating-a-custom-logger-li">
    <a href="/blog/2019/12/17/creating-a-custom-logger/" title="Creating a custom logger" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20191217creating-a-custom-logger"><span class="">Custom Loggers</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-blog20191201yoking-participants-seeded-randomization-li">
    <a href="/blog/2019/12/01/yoking-participants-seeded-randomization/" title="Yoking participants (seeded randomization)" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id="m-blog20191201yoking-participants-seeded-randomization"><span class="td-sidebar-nav-active-item">Yoking participants</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog20191128fullscreen-mode-in-minnojs-li">
    <a href="/blog/2019/11/28/fullscreen-mode-in-minnojs/" title="Fullscreen mode in MinnoJS" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog20191128fullscreen-mode-in-minnojs"><span class="">Fullscreen</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blog10101manually-activating-minnojs-li">
    <a href="/blog/1/01/01/manually-activating-minnojs/" title="Manually activating MinnoJS" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-blog10101manually-activating-minnojs"><span class="">Manual activation</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
      </ul>
    
  </li>

    </ul>
  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/minnojs/minnojs.github.io/edit/hugo-source/content/en/blog/tutorials/yoking.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/minnojs/minnojs.github.io/new/hugo-source/content/en/blog/tutorials/yoking.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/minnojs/minnojs.github.io/issues/new?title=Yoking%20participants%20%28seeded%20randomization%29" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/minnojs/minno-quest/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
  </div>







          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
            <a class="btn btn-lg -bg-orange td-rss-button d-none d-lg-block" href="/blog/tutorials/index.xml" target="_blank">
              RSS <i class="fa fa-rss ml-2 "></i>
            </a>
            
<div class="td-content">
	<h1>Yoking participants (seeded randomization)</h1>
	
	<div class="td-byline mb-4">
		By <b>Elad Zlotnick</b> |
		<time datetime="2019-12-01" class="text-muted">Sunday, December 01, 2019</time>
	</div>
	
	<p>Most of the time we want randomization to be fully random.
In some cases it is usefull to yoke pairs of participants together so that they each recieve the same randomization.
MinnoJS does not (yet) support this out of the box, but it is fairly easy to implement using a <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">pseudorandom number generator (PRNG)</a>.
The PRNG allows us to create a series of random numbers depending on an initial seed.
This means that if we can pass a seed to the player (via <a href="https://en.wikipedia.org/wiki/Query_string">query string</a>), we can generate the same randomization for a pair of participants.</p>
<p>Therefore we need to:</p>
<ol>
<li>Put together a pseudorandom number generator</li>
<li>Seed it from the url</li>
<li>Shuffle the sequence</li>
</ol>
<p>There are many PRNGs to choose from, for this blog we will use sfc32 which is both one of the fastest and highest quality PRNGs implemented in Javascript.
PRNGs typically need a separate algorithm to generate a seed with sufficient entropy.
This is best achieved by a hashing algorithm, in our case xmur3.
(The implementations for both come from <a href="https://stackoverflow.com/a/47593316/1400366">here</a>).</p>
<p>The following function returns a seeded random number generator that returns a random number between zero and one.
This behaves the same as the equivalent native Javacript function <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random">Math.random</a>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">generatePRNG</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">seedStr</span><span style="color:#000;font-weight:bold">){</span>
    <span style="color:#8f5902;font-style:italic">// Create xmur3 state:
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">seed</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">xmur3</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">seedStr</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#39;&#39;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#8f5902;font-style:italic">// make sure that seed is string
</span><span style="color:#8f5902;font-style:italic"></span>
    <span style="color:#8f5902;font-style:italic">// Output four 32-bit hashes to provide the seed for sfc32.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">return</span>  <span style="color:#000">sfc32</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">seed</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">seed</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">seed</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">seed</span><span style="color:#000;font-weight:bold">());</span>

    <span style="color:#8f5902;font-style:italic">// seed generator
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">xmur3</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">str</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1779033703</span> <span style="color:#ce5c00;font-weight:bold">^</span> <span style="color:#000">str</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">length</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">str</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">length</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span>
            <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">Math</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">imul</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">^</span> <span style="color:#000">str</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">charCodeAt</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#0000cf;font-weight:bold">3432918353</span><span style="color:#000;font-weight:bold">),</span>
            <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">&lt;&lt;</span> <span style="color:#0000cf;font-weight:bold">13</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">19</span><span style="color:#000;font-weight:bold">;</span>
        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">Math</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">imul</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">^</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">16</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2246822507</span><span style="color:#000;font-weight:bold">);</span>
            <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">Math</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">imul</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">^</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">13</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3266489909</span><span style="color:#000;font-weight:bold">);</span>
            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">^=</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">16</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">};</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#8f5902;font-style:italic">// PRNG
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">sfc32</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">d</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87;font-weight:bold">function</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">d</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> 
            <span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">t</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">^</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">9</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">&lt;&lt;</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">&lt;&lt;</span> <span style="color:#0000cf;font-weight:bold">21</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">11</span><span style="color:#000;font-weight:bold">);</span>
            <span style="color:#000">d</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">d</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000">t</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">t</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">d</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">t</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">t</span> <span style="color:#ce5c00;font-weight:bold">&gt;&gt;&gt;</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#0000cf;font-weight:bold">4294967296</span><span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The next step is seeding the PRNG.
We assume that a url parameter has been passed to the player (something like <em>mydomain.com/player?yoke=213</em>).
MinnoJS v0.3 has a utility to help us get url parameters, and so we have a one liner here.
If you are using an older version you can get the parameter yourself
(<a href="https://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters">see here</a>).</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">rand</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">generatePRNG</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">$url</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">yoke</span><span style="color:#000;font-weight:bold">));</span>
</code></pre></div><p>We now need a method to randomize the order of an array of objects.
The obvious candidate is the <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle">fisher-yates shuffle</a>.
Following is a Javascript implementation (from <a href="https://stackoverflow.com/a/2450976/1400366">here</a>).
Note that instead of using <code>Math.random</code> we use <code>rand()</code> which is a call to our PRNG.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">shuffle</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">array</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">currentIndex</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">array</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">length</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">temporaryValue</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">randomIndex</span><span style="color:#000;font-weight:bold">;</span>

    <span style="color:#8f5902;font-style:italic">// While there remain elements to shuffle...
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#ce5c00;font-weight:bold">!==</span> <span style="color:#000">currentIndex</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>

        <span style="color:#8f5902;font-style:italic">// Pick a remaining element...
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">randomIndex</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">Math</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">floor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rand</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">currentIndex</span><span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000">currentIndex</span> <span style="color:#ce5c00;font-weight:bold">-=</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// And swap it with the current element.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">temporaryValue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">array</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">currentIndex</span><span style="color:#000;font-weight:bold">];</span>
        <span style="color:#000">array</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">currentIndex</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">array</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">randomIndex</span><span style="color:#000;font-weight:bold">];</span>
        <span style="color:#000">array</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">randomIndex</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">temporaryValue</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">array</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>And now we have the tools to randomize to our hearts content.
The following is a contrieved example, your use case is probably more involved.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">sequence</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">shuffle</span><span style="color:#000;font-weight:bold">([</span>
    <span style="color:#000;font-weight:bold">{</span><span style="color:#000">inherit</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task1&#39;</span><span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span><span style="color:#000">inherit</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task2&#39;</span><span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span><span style="color:#000">inherit</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task3&#39;</span><span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span><span style="color:#000">inherit</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;task4&#39;</span><span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">]);</span>
</code></pre></div>
	

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5 d-print-none">
  <li>
    <a href="/blog/2019/11/28/fullscreen-mode-in-minnojs/" class="btn btn-primary "><span class="mr-1">←</span> Previous</a>
  </li>
    <a href="/blog/2019/12/17/creating-a-custom-logger/" class="btn btn-primary ">Next <span class="ml-1">→</span></a>
  </li>
</ul>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://groups.google.com/g/minnojs">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/minnojs/minno-quest">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 The Docsy Authors All Rights Reserved</small>
        
	
		<p class="mt-2"><a href="/about/">About MinnoJS</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"></script>






 











<script src="/js/main.min.f5cc2e5dec4d9788b0c7bff27ab9fa0e38d31b70165d93b216c7a9e1718f60a7.js" integrity="sha256-9cwuXexNl4iwx7/yern6DjjTG3AWXZOyFsep4XGPYKc=" crossorigin="anonymous"></script>




  </body>
</html>